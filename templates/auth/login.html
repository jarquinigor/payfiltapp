{% extends './base.html' %}

{% block title %}Login | PayFilt{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{url_for('static', filename='css/login.css')}}">
{% endblock %}

{% block menu %}
{% endblock %}

{% block body %}
<form class="form-signin w-100 m-auto text-center" action="/login" method="POST">
    <img class="mb-4" src="{{url_for('static', filename='img/payfilt.png')}}" alt="" width="100%">
    {% with messages = get_flashed_messages() %}

    {% if messages %}
    <br>
    {% for message in messages %}
    <div class="alert alert-primary alert-dismissible" role="alert">
        <strong>{{ message }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}

    {% endwith %}
    <h1 class="h3 mb-3 fw-normal">Inicia sesión</h1>
    <div class="form-floating">
        <input type="text" class="form-control" id="username" name="username" placeholder="Username" minlength="5" maxlength="40" required>
        <label for="username">Username</label>
    </div>
    <div class="form-floating">
        <input type="password" class="form-control" id="password" name="password" placeholder="Password" minlength="12" maxlength="12" required>
        <label for="password">Password</label>
    </div>
    <button class="btn btn-primary w-100 py-2 mb-3" type="submit">Sign in</button>

    <div class="text-center pt-1 mb-4 pb-1">
        <a class="text-muted" href="{{url_for('reset_request')}}" id="forgotPassword">¿Olvidaste tu contraseña?</a>
    </div>
    
    <div class="d-flex align-items-center justify-content-center pb-4">
        <p class="mb-0 me-2">¿No tienes una cuenta?</p>
        <a type="button" class="btn btn-success" href="{{url_for('signup')}}">Sign up</a>
    </div>
</form>
{% endblock %}